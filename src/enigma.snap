// Enigma Cipher - Snap! (visual block language)
// Block-based educational language (Berkeley/Jens Moenig)
// Wehrmacht Enigma I, 3 rotors, Reflector B, plugboard, double-stepping
// PeopleTec Inc. - Guinness World Record Attempt 2026
// This is the XML project representation of a Snap! program

// In Snap!, the algorithm would be built with blocks:
//
// [when green flag clicked]
//   [set fwdI to list: 4 10 12 5 11 6 3 16 21 25 13 19 14 22 24 7 23 20 18 15 0 8 1 17 2 9]
//   [set fwdII to list: 0 9 3 10 18 8 17 20 23 1 11 7 22 19 12 2 16 6 25 13 15 24 5 21 14 4]
//   [set fwdIII to list: 1 3 5 7 9 11 2 15 17 19 23 21 25 13 24 4 8 22 6 0 10 12 20 18 16 14]
//   [set reflector to list: 24 17 20 7 16 18 11 3 15 23 13 6 14 10 12 8 4 1 5 25 2 22 21 9 0 19]
//   [set notches to list: 16 4 21]
//
// Custom block [mod26 (n)]:
//   [report (if ((n mod 26) < 0) then ((n mod 26) + 26) else (n mod 26))]
//
// Custom block [step rotors]:
//   [if (item 2 of offsets = item (item 2 of rotors + 1) of notches) then
//     [replace item 2 of offsets with (mod26 ((item 2 of offsets) + 1))]
//     [replace item 1 of offsets with (mod26 ((item 1 of offsets) + 1))]]
//   [else if (item 3 of offsets = item (item 3 of rotors + 1) of notches) then
//     [replace item 2 of offsets with (mod26 ((item 2 of offsets) + 1))]]
//   [replace item 3 of offsets with (mod26 ((item 3 of offsets) + 1))]
//
// Custom block [forward pass (rotor) (offset) (ch)]:
//   [set inp to (mod26 (ch + offset))]
//   [set out to (item (inp + 1) of (item (rotor + 1) of fwd_tables))]
//   [report (mod26 (out - offset))]
//
// Custom block [press key (ch)]:
//   [step rotors]
//   [set c to ch]
//   [set c to (forward pass (item 3 of rotors) (item 3 of offsets) c)]
//   [set c to (forward pass (item 2 of rotors) (item 2 of offsets) c)]
//   [set c to (forward pass (item 1 of rotors) (item 1 of offsets) c)]
//   [set c to (item (c + 1) of reflector)]
//   [set c to (backward pass (item 1 of rotors) (item 1 of offsets) c)]
//   [set c to (backward pass (item 2 of rotors) (item 2 of offsets) c)]
//   [set c to (backward pass (item 3 of rotors) (item 3 of offsets) c)]
//   [report c]
//
// Test: encrypt "AAAAA" with rotors I-II-III, key AAA -> "BDZGO"
// Test: encrypt "HELLOWORLD" with rotors I-II-III, key AAA -> "ILBDAAMTAZ"
